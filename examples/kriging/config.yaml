# OpenEvolve Default Configuration
# This file contains all available configuration options with sensible defaults
# You can use this as a template for your own configuration

# General settings
max_iterations: 12                  # Maximum number of evolution iterations
checkpoint_interval: 12             # Save checkpoints every N iterations
log_level: "INFO"                     # Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
#log_dir: null                         # Custom directory for logs (default: output_dir/logs)
#random_seed: null                     # Random seed for reproducibility (null = random)

# Evolution settings
diff_based_evolution: true            # Use diff-based evolution (true) or full rewrites (false)
allow_full_rewrites: false            # Allow occasional full rewrites even in diff-based mode
max_code_length: 12000                # Maximum allowed code length in characters

# LLM configuration
llm:
  primary_model: "openai/gpt-4o"
  primary_model_weight: 0.8
  secondary_model: "openai/gpt-4.1"
  secondary_model_weight: 0.2
  api_base: "https://openrouter.ai/api/v1"
  api_key: "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"
  temperature: 0.7
  top_p: 0.95
  max_tokens: 12000
  timeout: 300

# Prompt configuration
prompt:
  template_dir: null                  # Custom directory for prompt templates
  system_message: "You are an expert in GIS and an experienced coder. Your task is to improve and refine the Ordinary Kriging algorithm in Python. The target is to minimize root mean square error in all three datasets (Cu, Pb, Zn) compared with the original version of Kriging. Be careful there may be some problem in the fitting the variogram model, you should correct it."
  evaluator_system_message: "You are an expert code reviewer."

  # Number of examples to include in the prompt
  num_top_programs: 3                 # Number of top-performing programs to include
  num_diverse_programs: 2             # Number of diverse programs to include

  # Template stochasticity
  use_template_stochasticity: true    # Use random variations in templates for diversity
  template_variations:                # Different phrasings for parts of the template
    improvement_suggestion:
      - "Here's how we could improve this code:"
      - "I suggest the following improvements:"
      - "We can enhance this code by:"

  # Note: meta-prompting features are not yet implemented

# Database configuration
database:
  # General settings
  db_path: null # Path to persist database (null = in-memory only)
  in_memory: true                      # Keep database in memory for faster access

  # Evolutionary parameters
  population_size: 50               # Maximum number of programs to keep in memory
  archive_size: 20                   # Size of elite archive
  num_islands: 3                      # Number of islands for island model (separate populations)

  # Island-based evolution parameters
  # Islands provide diversity by maintaining separate populations that evolve independently.
  # Migration periodically shares the best solutions between adjacent islands.
#  migration_interval: 50              # Migrate between islands every N generations
#  migration_rate: 0.1                 # Fraction of top programs to migrate (0.1 = 10%)

  # Selection parameters
  elite_selection_ratio: 0.2          # Ratio of elite programs to select
  exploration_ratio: 0.35              # Ratio of exploration vs exploitation
  exploitation_ratio: 0.65             # Ratio of exploitation vs random selection
  # Note: diversity_metric is fixed to "edit_distance" (feature_based not implemented)

  # Feature map dimensions for MAP-Elites
  feature_dimensions:                 # Dimensions for MAP-Elites feature map
    - "score"                         # Performance score
    - "complexity"                    # Code complexity (length)
#  feature_bins: 10                    # Number of bins per dimension

# Evaluator configuration
evaluator:
  # General settings
  timeout: 300                        # Maximum evaluation time in seconds
  max_retries: 3                      # Maximum number of retries for evaluation

  # Note: resource limits (memory_limit_mb, cpu_limit) are not yet implemented

  # Evaluation strategies
  cascade_evaluation: false            # Use cascade evaluation to filter bad solutions early

  # Parallel evaluation
  parallel_evaluations: 4             # Number of parallel evaluations
  # Note: distributed evaluation is not yet implemented

  # LLM-based feedback (experimental)
#  use_llm_feedback: true             # Use LLM to evaluate code quality
#  llm_feedback_weight: 0.1            # Weight for LLM feedback in final score